(this["webpackJsonpwp-graphql-theme"]=this["webpackJsonpwp-graphql-theme"]||[]).push([[0],{54:function(e,t,r){},56:function(e,t,r){"use strict";r.r(t);var n=r(4),s=r(27),o=r.n(s),i=r(63),a=r(20),c=r(14),l=r(9),d=r(37),u=r(36);const g=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function h(e){navigator.serviceWorker.register(e).then((e=>{e.onupdatefound=()=>{const t=e.installing;t.onstatechange=()=>{"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((e=>{console.error("Error during service worker registration:",e)}))}var p,j=r(64),m=r(65),b=r(28),O=r(35),w=r(29),S=r(60),C=r(61),U=r(62),v=r(5);const x=Object(O.a)(p||(p=Object(b.a)(["\n  query AppQuery {\n    allSettings {\n      homeUrl\n      generalSettingsTitle\n      generalSettingsDescription\n    }\n    themeMods {\n      customLogo {\n        altText\n        sourceUrl\n        mediaDetails {\n          sizes {\n            name\n            sourceUrl\n          }\n        }\n      }\n    }\n  }\n"])));class T extends n.Component{constructor(e){super(e),this.state={loggedIn:!1}}render(){const{appUserProps:e,customizr:t}=this.props;return Object(v.jsx)(S.a,{fluid:!0,className:"app-body",children:Object(v.jsx)(a.b,{query:x,children:r=>{let{data:n,error:s,loading:o}=r;if(o)return Object(v.jsx)(Loading,{});if(s)return Object(v.jsx)(Error,{fault:"query",debugMsg:s.message});if(n){const{allSettings:{generalSettingsTitle:r,generalSettingsDescription:s,homeUrl:o},themeMods:{customLogo:i}}=n,a=t?"/customizer":"";return Object(v.jsxs)(C.a,{children:[Object(v.jsxs)(Header,{logo:i,description:s,title:r,url:o,children:[Object(v.jsx)(Menu,{location:"primary",wrapper:U.a,wrapperCSS:"primary-menu",wrapperProps:{xs:"auto"},pills:!0,vertical:!0,root:a,siteUrl:o}),Object(v.jsx)(Login,{...e,wrapper:"div",wrapperCSS:"login w-100"}),Object(v.jsx)(w.BrowserView,{renderWithFragment:!0,children:Object(v.jsx)(Sidebar,{id:"sidebar-1",as:U.a,className:"sidebar w-100"})}),Object(v.jsx)(Menu,{location:"social",wrapper:U.a,wrapperCSS:"social-menu w-100",wrapperProps:{xs:"auto"},justified:!0,root:a,siteUrl:o})]}),Object(v.jsxs)(Main,{children:[Object(v.jsx)(Router,{root:a}),Object(v.jsx)(Footer,{})]})]})}}})})}}T.defaultProps={customizr:!1};var _=T;r(54);class f extends n.Component{constructor(e){super(e),this.clearCurrentUser=this.clearCurrentUser.bind(this),this.returningUser=this.returningUser.bind(this),this.setCurrentUser=this.setCurrentUser.bind(this),this.state={loggedIn:!1}}componentWillMount(){this.returningUser()}clearCurrentUser(){localStorage.removeItem("user-token"),this.setState({authToken:void 0,loggedIn:!1})}returningUser(){const e=localStorage.getItem("user-token");this.setState({authToken:e,loggedIn:!0})}setCurrentUser(e){localStorage.setItem("user-token",e),this.setState({authToken:e,loggedIn:!0})}render(){const{loggedIn:e}=this.state;return Object(v.jsxs)(j.a,{children:[Object(v.jsx)(m.a,{path:"/:customizr(customizr)",render:t=>{let{match:{params:r}}=t;return Object(v.jsx)(_,{appUserProps:{clearCurrentUser:this.clearCurrentUser,customizr:!0,setCurrentUser:this.setCurrentUser,loggedIn:e}})}}),Object(v.jsx)(m.a,{render:t=>Object(v.jsx)(_,{appUserProps:{clearCurrentUser:this.clearCurrentUser,setCurrentUser:this.setCurrentUser,loggedIn:e}})})]})}}var E=f;const I=document.querySelector("#graphql");let k;I&&(k=I.getAttribute("data-endpoint"),I.parentElement.removeChild(I));const P=new d.a({uri:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_APOLLO_CLIENT_URI?Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_APOLLO_CLIENT_URI:k,credentials:"same-origin"}),L=new l.a(((e,t)=>(e.setContext({headers:{authorization:localStorage.getItem("user-token")||null}}),t(e)))),R=new c.c({link:Object(l.b)(L,P),cache:new u.a({dataIdFromObject:e=>e.id||null})}),y=document.getElementById("page");o.a.render(Object(v.jsx)(a.a,{client:R,children:Object(v.jsx)(i.a,{children:Object(v.jsx)(E,{})})}),y),y.classList.add("loaded"),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(()=>{const e="".concat("","/service-worker.js");g?(!function(e){fetch(e).then((t=>{404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((e=>{e.unregister().then((()=>{window.location.reload()}))})):h(e)})).catch((()=>{console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):h(e)}))}}()}},[[56,1,2]]]);
//# sourceMappingURL=main.596b9e54.chunk.js.map